#### `ejs`

1. 设置模板格式
2. 模板文件
   1. 将数据写入相应的位置
3. 服务器处理
   1. 正则校验模块
   2. 在登录和注册时都会进行用户名校验
   3. 只有在注册时才会进行密码校验
      1. 如果用户名校验不正确
         1. 模板数据
         2. 如果是注册，返回注册`ejs`
         3. 如果是登录，返回登录`ejs`
      2. 如果密码校验不正确并且是注册时
         1. 返回注册`ejs`



#### `Reg.test()`

1. 检测是否存在某个字符串
2. 匹配成功返回`true`
3. 匹配失败返回`false`

#### `cookie`

1. 基本思想

   1. 服务器发送给客户端
   2. 在下一次客户端请求中，`cookie`随在报文头中发送到服务端
   3. 服务端看到这是自己的`cookie`时就允许用户免登录

2. 内容

   1. 设置
   2. 获取
   3. 删除

3. `07`

   1. 需求
      1. 引入`cookie`中间件并使用
      2. 三个路由
         1. 个人中心`center`
         2. 登录`login`
         3. 删除`quit`
      3. 访问`login`
         1. 设置`cookie`
         2. 返回到客户端
      4. 访问`center`
         1. 判断是否有`cookie`
            1. 如果有，就显示个人中心
            2. 如果没有，就拒绝访问
      5. 访问`quit`
         1. 删除`cookie`

4. `08`

   1. 基本思路
      1. 在每一次登录时，设置该用户的cookie
      2. 在下一次直接访问个人中心时，判断是否有cookie，以此来确定是否不用登录
   2. 逻辑
      1. 个人中心页面
      2. 登录时，如果登录成功
         1. 设置cookie
      3. 个人中心路由，请求个人中心页面
         1. 获取cookie
         2. 到数据库中查询所有`_id`
         3. 判断该cookie的值是否有匹配到和数据库中的相等
            1. 如果相等
               1. 直接打开cookie文件
            2. 如果不相等
               1. 拒绝访问

   问题

   1. 为什么要把`center.html`放在另一个文件夹中
      1. 如果放在public下属于静态资源，无论如何地址输入都能访问得到