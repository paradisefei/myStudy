<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            height:10000px;
        }
        #returnTop {
            width:100px;
            height:50px;
            line-height:50px;
            background-color:red;
            border-radius:10px;
            text-align:center;
            color:white;
            cursor:pointer;

            position:fixed;
            right:10px;
            bottom:10px;

            display:none;
        }
    </style>
</head>
<body>
    <div id="returnTop">
        回到顶部
    </div>

    <script>
        //获取元素对象
        var oReturnTop = document.getElementById("returnTop");
        // var oReturnTopTimer = null;

        //确定是否显示回到顶部盒子
        window.onscroll = function(){
            if(window.pageYOffset >= 500){
                oReturnTop.style.display = "block";
            }else {
                oReturnTop.style.display = "none";
            }
        }

        //点击回到顶部
        oReturnTop.onclick = function(){
            clearInterval(oReturnTopTimer);
            //起始位置
            var startPoint = window.pageYOffset;
            // console.log(startPoint)
            //停止位置
            var endPoint = 0;
            //开始时候的步数
            var startStep = 0;
            //一共要走的步数
            var totalStep = 30;
            //每一步要走的大小
            var everyStep = (endPoint - startPoint) / (totalStep - startStep);

            //启用间歇调用
            var oReturnTopTimer = setInterval(function(){
                //计时器每调用一次，就让步数加1
                startStep++;

                //如果走的步数大于总步数
                if(startStep >= totalStep){
                    clearInterval(oReturnTopTimer);
                }
                //每次计时器执行之后，改变起始位置
                startPoint += everyStep;
                //设置系统滚动条的位置
                window.scrollTo(0,startPoint);
            },500/30)
        }
    </script>
</body>
</html>