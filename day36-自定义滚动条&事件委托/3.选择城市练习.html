<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        #con {
            width: 300px;
            margin: 20px auto;
            /* background-color:red; */
        }

        .title {
            height: 30px;
        }

        .choose {
            height: 50px;
            background-color: #ccc;
            font-size: 20px;
            line-height: 50px;
            text-align: center;
            cursor: pointer;
        }

        .city {
            background-color: red;
            height: 100px;

            display: none;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        .city li {
            width: 80px;
            text-align: center;
            /* background-color:#83f; */
            cursor: pointer;
            /* align-self:center */
        }
    </style>

</head>

<body>
    <div id="con">
        <h2 class="title">北京</h2>
        <div class="choose" id="choose">请选择城市</div>
        <ul class="city" id="city">
            <li>北京</li>
            <li>上海</li>
            <li>广州</li>
            <li>深圳</li>
            <li>南昌</li>
            <li>郑州</li>
            <li>南京</li>
            <li>杭州</li>
            <li>苏州</li>
        </ul>
    </div>

    <script>
        //获取元素对象
        var oTitle = document.querySelector(".title");
        var oChoose = document.querySelector(".choose");
        var oCity = document.querySelector(".city");

        //冒泡到整个文档,而不是con中,只需要根据事件的点击目标来确定对应操作就行
        document.onclick = function (e) {
            //如果点击的是选择框,则将城市框flex显示,并结束事件
            if(e.target.id === "choose"){
                oCity.style.display = "flex";
                return;
            }
            //再次点击时如果点到的是li并且所点区域为城市框,就进行操作,完了之后结束事件
            if(e.target.nodeName === "LI" && e.target.parentNode.id==="city"){
                oTitle.textContent = e.target.innerHTML;
                oCity.style.display = "none";
                return;
            }
            // 如果再次点击时都没有进入上面两个,就再次none显示
            //就是说如果没有点到那两个位置的话,点到其他所有位置都会隐藏
            oCity.style.display = "none";
        }

    </script>
</body>

</html>